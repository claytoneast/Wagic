<html>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="./css.css">

</head>
<body>
    <div id="board">
    </div>
<br style="clear:both;">


<div id="player1"></div>
<br style="clear:both;">
<div id="player2"></div>
<button id="pass" value="pass">pass</button>

</body>


</html>

<script>
    var alphabets = ["a","a","a","a","a","a","a","a","a","b","b","c","c","c","c","d","d","d","d","d","e","e","e","e","e","e","e","e","e","e","e","e","e","f","f","f","f","g","g","g","g","h","h","h","h","h","h","h","i","i","i","i","i","i","i","i","i","j","k","k","l","l","l","l","l","m","m","m","m","n","n","n","n","n","n","n","n","o","o","o","o","o","o","o","o","p","p","p","qu","r","r","r","r","r","r","r","s","s","s","s","s","s","s","t","t","t","t","t","t","t","t","t","t","u","u","u","u","v","v","w","w","w","w","x","y","y","y","z"];
    var board={
        rows:7,
        columns:7,
        letters:[],
        colors:[]
    }
    var player=1;
    var colors=["red","yellow","blue", "green"]
    $(document).ready(function(){
        for(r=0;r<board.rows;r++){
            for(c=0; c<board.columns; c++){
                board.letters.push(alphabets[Math.floor((Math.random() * (alphabets.length)) )]);
                board.colors.push(colors[Math.floor((Math.random() * (colors.length)) )])
                var html="<div class=\"tile "+board.colors[board.colors.length-1]+"\" data-pos=\""+r+","+c+","+(board.letters.length-1)+"\"><span class=\"letter\">"+board.letters[board.letters.length-1];
                +"</span></div>";
                $("#board").append(html);
                if(board.letters[board.letters.length-1]=="qu"){
                    $(".tile[data-pos=\""+r+","+c+","+(board.letters.length-1)+"\"] .letter").css("left","12px");
                }

            }
            $("#board").append("<br style='clear:both;'> ")

        }

        $(".tile").on("click", function(e){
            e.preventDefault();
            if($(this).find(".letter").is(":animated")) return;
            var tile = $(this).attr("data-pos");
            $(this).find(".letter").animate({
                top:"+=50"
            }, 200, function(){
                replaceLetter(tile);
            });

            function replaceLetter(pos){
                board.letters[pos.split(",")[2]]=alphabets[Math.floor((Math.random() * (alphabets.length-1)) )];
                var tile = $(".tile[data-pos=\""+pos+"\"]");
                tile.find(".letter").html(board.letters[pos.split(",")[2]]);
                tile.find(".letter").css("top","-40px");
                if(board.letters[pos.split(",")[2]]=="qu")tile.find(".letter").css("left","12px");
                else
                    tile.find(".letter").css("left","20px")
                tile.find(".letter").animate({
                    top:"+=55"
                }, 300);
            }

            $("#player"+player).html($(e.target).html()+$("#player"+player).html());
            player = (player==2)?1:2;

        });
        $("#pass").on("click", function(){
            player = (player==2)?1:2;

        })


    });
</script>