<% if user_signed_in? && @game.user_check(current_user) %>
  You are part of this game!
<% elsif user_signed_in? && !@game.user_check(current_user) && @game.users.length < 3 %>
  you are not part of this game
  <%= link_to "Join this game", game_join_game_path(@game) %>
<% end %>

<% @game.users.each do |user| %>
  <%= user.email %>
<% end %>
<br>
<br>

<div class="flex-wrap tile-wrapper">
<% @game_state["board_state"]["array"].each do |horizontal| %>
<div class="flex-box" id="row<%= horizontal.first['coordX'] %> ">
    <% horizontal.each do |vertical| %>
      <a href=""></a>
      <%= link_to vertical['letter'],
      game_choose_letters_path(@game.id, data: vertical),
      class: 'btn btn-primary btn-game tile',
      id: "coordX#{vertical["coordX"]}coordY#{vertical["coordY"]}",
      data: {
        coordX: vertical['coordX'],
        coordY: vertical['coordY'],
        color: vertical['color']},
      style: "background-color:#{vertical["color"]}" %>
    <% end %>
  </div>
<% end %>
</div>

<div class="letters-wrapper">

    <%= current_user.email %><br>
    <ul>
      Hand:
      <% @game_state[@json_user][@json_user + "hand"].each do |letter| %>
        <li>letter: <%= letter %> </li>
      <% end %>
    </ul>

</div>

<style media="screen">
  .flex-box {
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
  }
  .flex-wrap {
    display: flex;
    flex-direction: row;
  }
  .tile {
    transition: border .1s;
  }
</style>
